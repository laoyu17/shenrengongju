# 需求规格说明书提纲（RTOS 多核异构调度仿真工具）

## 0. 文档控制
- 版本：v0.1
- 状态：草案
- 负责人：待定
- 更新日期：2026-02-01

## 1. 引言
### 1.1 背景与问题陈述
- 基于原型模型构建可视化的 RTOS 多核异构调度仿真工具，支持 DAG 任务、分段执行、资源互斥与绑定、混合实时性。

### 1.2 目标与范围
- 目标：提供“可配置、可复现、可对比”的调度仿真能力与可视化分析。
- 范围：模型配置、仿真引擎、调度策略、统计分析、可视化 UI。

### 1.3 术语与缩略语
- DAG、WCET/ACET、超周期、段（Segment）、子任务（Subtask）、资源绑定等。

### 1.4 参考资料
- `250909-仿真工具-基础模型.docx`

## 2. 总体描述
### 2.1 系统上下文
- 输入：模型配置（任务图、资源、处理器、策略）
- 输出：事件日志、调度结果、统计指标、可视化

### 2.2 用户角色与使用场景
- 研究人员：对比调度策略
- 系统工程师：验证调度可行性
- 教学演示：可视化展示调度过程

### 2.3 运行环境
- 桌面端（Windows/Linux），Python 运行时，离线可用

### 2.4 约束与假设
- 任务为 DAG 且分段顺序执行；资源互斥访问；允许抢占与迁移

## 3. 业务/领域模型概述
- 处理器平台：多类处理器、多核、核速度因子
- 共享资源：互斥资源、绑定核、访问协议
- 任务集合：任务 → 子任务（DAG 节点）→ 分段
- 映射关系：任务/子任务/分段与核的映射
- 混合实时性：时间确定性/动态实时/非实时任务

## 4. 功能需求（FR）
### 4.1 配置与校验
- FR-1：支持图形化/文件化配置模型
- FR-2：配置一致性与合法性校验

### 4.2 仿真控制
- FR-3：运行/暂停/重置/单步/加速
- FR-4：可复现实验（随机种子）

### 4.3 调度与执行
- FR-5：调度策略插件化
- FR-6：段级执行与抢占/阻塞/迁移
- FR-7：资源互斥与绑定策略

### 4.4 统计与分析
- FR-8：超期率/响应时间/迁移/抢占/利用率
- FR-9：导出统计报表与事件日志

### 4.5 可视化
- FR-10：Gantt/时间线
- FR-11：指标面板与对比视图

## 5. 数据需求
- 实体：ProcessorType、Core、Resource、TaskGraph、Subtask、Segment
- 关键关系：DAG 依赖、资源绑定、核映射
- 关键属性：WCET、deadline、period、arrival、speed

## 6. 非功能需求（NFR）
- NFR-1：可扩展性（策略/协议/ETM 插件）
- NFR-2：可复现性（同配置同结果）
- NFR-3：性能（大规模 DAG 可接受）
- NFR-4：可用性（UI 响应）
- NFR-5：可测试性（单元/回归/场景测试）

## 7. 质量属性与验收标准
- 典型场景（固定周期、动态实时、混合任务）可复现实验输出
- 指标输出一致性与可解释性

## 8. 风险与对策
- DAG + 资源绑定可能导致死锁/优先级反转
- 分段级事件数量大带来性能压力

## 9. 开放问题
- 资源访问协议选择
- DAG 任务模型表达格式（JSON/YAML/XML）
- 执行时间模型的精度与效率权衡
